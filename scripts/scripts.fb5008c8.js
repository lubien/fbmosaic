"use strict";angular.module("cropperApp",["ngAnimate","ngResource","ngRoute","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/upload",{templateUrl:"views/upload.html",controller:"UploadCtrl",controllerAs:"upload"}).when("/crop",{templateUrl:"views/crop.html",controller:"CropCtrl",controllerAs:"crop"}).when("/finish",{templateUrl:"views/finish.html",controller:"FinishCtrl",controllerAs:"finish"}).when("/tutorial",{templateUrl:"views/tutorial.html",controller:"TutorialCtrl",controllerAs:"tutorial"}).otherwise({redirectTo:"/"})}]),angular.module("cropperApp").controller("MainCtrl",["cropperService",function(a){}]),angular.module("cropperApp").controller("UploadCtrl",["$scope","$location","cropperService",function(a,b,c){$("input[name=image]").change(function(d){var e=this.files[0],f=new FileReader;f.onloadend=function(){c.image=f.result,b.path("/crop"),a.$apply()},f.readAsDataURL(e)})}]),angular.module("cropperApp").service("cropperService",function(){this.image=!1,this.settings={width:0,height:0,x:0,y:0}}),angular.module("cropperApp").controller("CropCtrl",["$scope","$location","cropperService",function(a,b,c){return c.image?void(a.image=c.image):void b.path("/upload")}]),angular.module("cropperApp").directive("fengyuanchenCropper",["cropperService",function(a){return{restrict:"A",link:function(b,c,d){c.bind("load",function(){$(this).cropper({viewMode:1,aspectRatio:1,crop:function(b){a.settings={width:b.width,height:b.height,x:b.x,y:b.y}}})})}}}]),angular.module("cropperApp").controller("FinishCtrl",["$scope","$location","cropperService",function(a,b,c){var d=c.settings;if(!d.width)return void b.path("/crop");Caman("#base",c.image,function(){function a(a,b,c,d,e){Caman("#part-"+a,document.getElementById("base").toDataURL(),function(){this.crop(b,c,d,e),this.render()})}this.crop(d.width,d.height,d.x,d.y),this.render();for(var b=d.height/3,c=d.width/3,e=1,f=0;3>f;f++)for(var g=b*f,h=0;3>h;h++){var i=c*h;a(e,c,b,i,g),e++}});var e=0;a.getAux=function(){return e++,e}}]),angular.module("cropperApp").controller("TutorialCtrl",function(){}),angular.module("cropperApp").run(["$templateCache",function(a){a.put("views/crop.html",'<div class="col-md-12"> <ol class="breadcrumb breadcrumb-arrow"> <li><a href="#/">Home</a></li> <li><a href="#/upload">Upload</a></li> <li class="active"><a href="#/crop">Crop</a></li> <li><span>Finish</span></li> </ol> </div> <h1>Crop Your Image</h1> <p> Crop your image then <a class="btn btn-info" href="#/finish">Continue</a> </p> <div> <img id="image" ng-src="{{image}}" fengyuanchen-cropper> </div>'),a.put("views/finish.html",'<div class="col-md-12"> <ol class="breadcrumb breadcrumb-arrow"> <li><a href="#/">Home</a></li> <li><a href="#/upload">Upload</a></li> <li><a href="#/crop">Crop</a></li> <li class="active"><a href="#/finish">Finish</a></li> </ol> </div> <h1>Finished</h1> <p>Download the cropped parts.</p> <h2>Cropped</h2> <canvas id="base"></canvas> <h2>Parts</h2> <div class="table-responsive"> <table class="table table-hover"> <tbody> <tr ng-repeat="i in [1,2,3]"> <td ng-repeat="j in [1,2,3]" ng-init="aux = getAux()" align="center"> <canvas id="part-{{aux}}"></canvas><br> [{{10-aux}}] </td> </tr> </tbody> </table> </div>'),a.put("views/main.html",'<h1>Facebook Photo Mosaic</h1> <center> <p class="lead"> <img src="images/dio.7d2d1e8d.png" alt="Kono Dio Da"><br> Because it\'s awesome. </p> <p> <a class="btn btn-lg btn-success" ng-href="#/upload">Get Started!<span class="glyphicon glyphicon-ok"></span></a> </p> </center> <p> <div id="fb-root"></div> <script>(function(d, s, id) {\n    var js, fjs = d.getElementsByTagName(s)[0];\n    if (d.getElementById(id)) return;\n    js = d.createElement(s); js.id = id;\n    js.src = "//connect.facebook.net/pt_BR/sdk.js#xfbml=1&version=v2.5&appId=262552623859504";\n    fjs.parentNode.insertBefore(js, fjs);\n  }(document, \'script\', \'facebook-jssdk\'));</script> <div class="fb-like" data-href="http://lubien.info/fbmosaic/"></div> </p> <div class="row marketing"> <h4>Developed by me, <a href="http://lubien.info" target="_blank"><s>Dio</s> Lubien</a></h4> <p> I was bored. </p> <h4><a href="https://fengyuanchen.github.io/" target="_blank">Fengyuan Chen</a> for <a href="https://fengyuanchen.github.io/cropper/" target="_blank">Cropper</a></h4> <p> Amazing cropping UI for javascript. </p> <h4><a href="https://github.com/meltingice" target="_blank">Ryan LeFevre</a> for <a href="http://camanjs.com/" target="_blank">CamanJS</a></h4> <p>Used for cropping images.</p> <h4>A lot of developers</h4> <p>For other dependencies.</p> </div>'),a.put("views/tutorial.html",'<h1>Easy Tutorial</h1> <p>Because I don\'t want to write too much, I\'ll let you do this easily.</p> <h3>1 - <a href="/#upload">Use</a> this site</h3> <p>Seriously, this site was made for something.</p> <h3>2 - Download all cropped images</h3> <p>Take a look in the other.</p> <div class="table-responsive"> <table class="table table-hover"> <tbody> <tr> <td>9th</td> <td>8th</td> <td>7th</td> </tr> <tr> <td>6th</td> <td>5th</td> <td>4th</td> </tr> <tr> <td>3rd</td> <td>2nd</td> <td>1st</td> </tr> </tbody> </table> </div> <h3>3 - Create a new album in your facebook.</h3> <p>Upload all images there.</p> <h3>4 - Mark yourself in these images</h3> <p>In the other you saw on step 2.</p> <h3>5 - Share this idea.</h3> <p>:P</p>'),a.put("views/upload.html",'<div class="col-md-12"> <ol class="breadcrumb breadcrumb-arrow"> <li><a href="#/">Home</a></li> <li class="active"><a href="#/upload">Upload</a></li> <li><span>Crop</span></li> <li><span>Finish</span></li> </ol> </div> <h1>Upload</h1> <p><input type="file" name="image"></p>')}]);